<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Command Line Shell: leetify.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Command Line Shell
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">leetify.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;sys/wait.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
</div>
<p><a href="leetify_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommand__line.html">command_line</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">command line set up and tokens  <a href="structcommand__line.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2aa1c4d6ebe65030391ec3c6bb4a11e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leetify_8h.html#a2aa1c4d6ebe65030391ec3c6bb4a11e2">execute_pipeline</a> (struct <a class="el" href="structcommand__line.html">command_line</a> *cmds)</td></tr>
<tr class="separator:a2aa1c4d6ebe65030391ec3c6bb4a11e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Holds command line struct and function for execute pipeline </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2aa1c4d6ebe65030391ec3c6bb4a11e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aa1c4d6ebe65030391ec3c6bb4a11e2">&#9670;&nbsp;</a></span>execute_pipeline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void execute_pipeline </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommand__line.html">command_line</a> *&#160;</td>
          <td class="paramname"><em>cmds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pipes command and runs the command</p>
<p>Parameter(s):</p><ul>
<li>cmds: struct <a class="el" href="structcommand__line.html" title="command line set up and tokens">command_line</a> that deternmines if the last command in the pipeline and whether the final result gets written to a file or terminal</li>
</ul>
<p>Returns: void </p>
<p>TODO: design an algorithm that sets up a pipeline piece by piece. Solutions will probably either iterate over the pieces of the pipeline or work recursively. Imagine you have three commands in a pipeline:</p>
<ul>
<li>cat</li>
<li>tr</li>
<li>sed</li>
</ul>
<p>Use 'stdout_pipe' to determine when you've reached the last command in the pipeline, and 'stdout_file' to decide whether the final result gets written to a file or the terminal.</p>
<p>If we aren't at the last command, then we need to set up a pipe for the current command's output to go into. For example, let's say our command is <code>cat file.txt</code>. We will create a pipe and have the stdout of the command directed to the pipe. Before running the next command, we'll set up the stdin of the next process to come from the pipe, and execute_pipeline will run whatever command comes next (for instance, &lsquo;tr &rsquo;[:upper:]' '[:lower:]'`).</p>
<p>Here's some pseudocode to help:</p>
<p>create a new pipe fork a new process if pid is the child: dup2 stdout to pipe[1] close pipe[0] execvp the command if pid is the parent: dup2 stdin to pipe[0] close pipe[1] move on to the next command in the pipeline</p>
<p>The special case here is when there are no more commands left. In that case, you can simply execvp the command (no need to create another pipe). If you created a handler process in <a class="el" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main()</a>, then it will be replaced by this last call to execvp.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
